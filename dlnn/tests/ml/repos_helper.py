import numpy

from dlnn.tests.ml.testcase import TestCase

label_init = numpy.array([1, 1, 1, 1, 2, 2, 3, 3]) - 1
categorical_label_init = numpy.array([
    [1, -1, -1],
    [1, -1, -1],
    [1, -1, -1],
    [1, -1, -1],
    [-1, 1, -1],
    [-1, 1, -1],
    [-1, -1, 1],
    [-1, -1, 1],
])
normalized = numpy.array([[[[0.84333333, 0.43666667, 0.86333333, 0.31666667],
                            [0.84333333, 0.43666667, 0.86333333, 0.31666667],
                            [0.84333333, 0.43666667, 0.86333333, 0.31666667],
                            [0.84333333, 0.43666667, 0.86333333, 0.31666667]]],
                          [[[0.43666667, 0.86333333, 0.31666667, 0.87666667],
                            [0.43666667, 0.86333333, 0.31666667, 0.87666667],
                            [0.43666667, 0.86333333, 0.31666667, 0.87666667],
                            [0.43666667, 0.86333333, 0.31666667, 0.87666667]]],
                          [[[0.86333333, 0.31666667, 0.87666667, 0.16666667],
                            [0.86333333, 0.31666667, 0.87666667, 0.16666667],
                            [0.86333333, 0.31666667, 0.87666667, 0.16666667],
                            [0.86333333, 0.31666667, 0.87666667, 0.16666667]]],
                          [[[0.31666667, 0.87666667, 0.16666667, 0.51333333],
                            [0.31666667, 0.87666667, 0.16666667, 0.51333333],
                            [0.31666667, 0.87666667, 0.16666667, 0.51333333],
                            [0.31666667, 0.87666667, 0.16666667, 0.51333333]]],
                          [[[0.87666667, 0.16666667, 0.51333333, 0.24333333],
                            [0.87666667, 0.16666667, 0.51333333, 0.24333333],
                            [0.87666667, 0.16666667, 0.51333333, 0.24333333],
                            [0.87666667, 0.16666667, 0.51333333, 0.24333333]]],
                          [[[0.16666667, 0.51333333, 0.24333333, 0.470000000],
                            [0.16666667, 0.51333333, 0.24333333, 0.470000000],
                            [0.16666667, 0.51333333, 0.24333333, 0.470000000],
                            [0.16666667, 0.51333333, 0.24333333, 0.470000000]]],
                          [[[0.51333333, 0.24333333, 0.47000000, 0.486666670],
                            [0.51333333, 0.24333333, 0.47000000, 0.486666670],
                            [0.51333333, 0.24333333, 0.47000000, 0.486666670],
                            [0.51333333, 0.24333333, 0.47000000, 0.486666670]]],
                          [[[0.24333333, 0.47000000, 0.48666667, 0.290000000],
                            [0.24333333, 0.47000000, 0.48666667, 0.290000000],
                            [0.24333333, 0.47000000, 0.48666667, 0.290000000],
                            [0.24333333, 0.47000000, 0.48666667, 0.290000000]]]])
corr_step_1_seg_1 = numpy.array([[0.28444444, 0.47629630, 0.35925926, 0.26222222],
                                 [0.42666667, 0.71444444, 0.53888889, 0.39333333],
                                 [0.42666667, 0.71444444, 0.53888889, 0.39333333],
                                 [0.28444444, 0.47629630, 0.35925926, 0.26222222]])
corr_step_1_seg_2 = numpy.array([[0.84333333, 0.86333333, 0.86333333, 0.86333333],
                                 [0.84333333, 0.86333333, 0.86333333, 0.86333333],
                                 [0.84333333, 0.86333333, 0.86333333, 0.86333333],
                                 [0.84333333, 0.86333333, 0.86333333, 0.86333333]])
corr_step_1_seg_3 = numpy.array([[0.36667424, 0.39571821, 0.33745278, 0.36612839],
                                 [0.36525105, 0.20851325, 0.24881943, 0.37823053],
                                 [0.36525105, 0.20851325, 0.24881943, 0.37823053],
                                 [0.36667424, 0.39571821, 0.33745278, 0.36612839]])
corr_step_1 = numpy.concatenate(([[corr_step_1_seg_1]], [[corr_step_1_seg_2]], [[corr_step_1_seg_3]]), axis=1)
corr_step_2_seg_1 = numpy.array([[0.57063550, 0.61687292, 0.58886111, 0.56518248],
                                 [0.60507742, 0.67138247, 0.63155391, 0.59708487],
                                 [0.60507742, 0.67138247, 0.63155391, 0.59708487],
                                 [0.57063550, 0.61687292, 0.58886111, 0.56518248]])
corr_step_2_seg_2 = numpy.array([[0.69916679, 0.70335661, 0.70335661, 0.70335661],
                                 [0.69916679, 0.70335661, 0.70335661, 0.70335661],
                                 [0.69916679, 0.70335661, 0.70335661, 0.70335661],
                                 [0.69916679, 0.70335661, 0.70335661, 0.70335661]])
corr_step_2_seg_3 = numpy.array([[0.59065511, 0.59765848, 0.58357164, 0.59052313],
                                 [0.59031097, 0.55194026, 0.56188590, 0.59344626],
                                 [0.59031097, 0.55194026, 0.56188590, 0.59344626],
                                 [0.59065511, 0.59765848, 0.58357164, 0.59052313]])
corr_step_2 = numpy.concatenate(([[corr_step_2_seg_1]], [[corr_step_2_seg_2]], [[corr_step_2_seg_3]]), axis=1)
corr_step_3_seg_1 = numpy.array([[0.27377427, 0.40937594, 0.40788200, 0.26474250],
                                 [0.41560313, 0.62137740, 0.61899540, 0.40125790],
                                 [0.41560316, 0.62137747, 0.61899540, 0.40125790],
                                 [0.27377427, 0.40937594, 0.40788198, 0.26474250]])
corr_step_3_seg_2 = numpy.array([[0.70335660, 0.70335660, 0.70335660, 0.70335660],
                                 [0.70335660, 0.70335660, 0.70335660, 0.70335660],
                                 [0.70335660, 0.70335660, 0.70335660, 0.70335660],
                                 [0.70335660, 0.70335660, 0.70335660, 0.70335660]])
corr_step_3_seg_3 = numpy.array([[0.30734155, 0.29002590, 0.29029182, 0.30705318],
                                 [0.28987694, 0.01838925, 0.01904486, 0.29064130],
                                 [0.28987694, 0.01838925, 0.01904486, 0.29064130],
                                 [0.30734155, 0.29002586, 0.29029182, 0.30705318]])
corr_step_3 = numpy.concatenate(([[corr_step_3_seg_1]], [[corr_step_3_seg_2]], [[corr_step_3_seg_3]]), axis=1)
corr_step_4_seg_1 = numpy.array([[0.56801925, 0.60093823, 0.60057991, 0.56580174],
                                 [0.60243064, 0.65053175, 0.64999003, 0.59898985],
                                 [0.60243065, 0.65053177, 0.64999003, 0.59898985],
                                 [0.56801925, 0.60093823, 0.60057991, 0.56580174]])
corr_step_4_seg_2 = numpy.array([[0.66893155, 0.66893155, 0.66893155, 0.66893155],
                                 [0.66893155, 0.66893155, 0.66893155, 0.66893155],
                                 [0.66893155, 0.66893155, 0.66893155, 0.66893155],
                                 [0.66893155, 0.66893155, 0.66893155, 0.66893155]])
corr_step_4_seg_3 = numpy.array([[0.57623623, 0.57200247, 0.57206757, 0.57616581],
                                 [0.57196601, 0.50459718, 0.50476107, 0.57215313],
                                 [0.57196601, 0.50459718, 0.50476107, 0.57215313],
                                 [0.57623623, 0.57200246, 0.57206757, 0.57616581]])
corr_step_4 = numpy.concatenate(([[corr_step_4_seg_1]], [[corr_step_4_seg_2]], [[corr_step_4_seg_3]]), axis=1)
corr_step_5_seg_1 = numpy.array([[0.65053177, 0.64999000],
                                 [0.65053177, 0.64999000]])
corr_step_5_seg_2 = numpy.array([[0.66893154, 0.66893154],
                                 [0.66893154, 0.66893154]])
corr_step_5_seg_3 = numpy.array([[0.57623625, 0.57616580],
                                 [0.57623625, 0.57616580]])
corr_step_5 = numpy.concatenate(([[corr_step_5_seg_1]], [[corr_step_5_seg_2]], [[corr_step_5_seg_3]]), axis=1)
corr_step_6_seg_1 = numpy.array([[0.28900486, 0.28900486],
                                 [0.28900486, 0.28900486]])
corr_step_6_seg_2 = numpy.array([[0.66893154, 0.66893154],
                                 [0.66893154, 0.66893154]])
corr_step_6_seg_3 = numpy.array([[0.30368462, 0.30368460],
                                 [0.30368460, 0.30368460]])
corr_step_6 = numpy.concatenate(([[corr_step_6_seg_1]], [[corr_step_6_seg_2]], [[corr_step_6_seg_3]]), axis=1)
corr_step_7_seg_1 = numpy.array([[0.57175249, 0.57175249],
                                 [0.57175249, 0.57175249]])
corr_step_7_seg_2 = numpy.array([[0.66126387, 0.66126387],
                                 [0.66126387, 0.66126387]])
corr_step_7_seg_3 = numpy.array([[0.57534300, 0.57534300],
                                 [0.57534300, 0.57534300]])
corr_step_7 = numpy.concatenate(([[corr_step_7_seg_1]], [[corr_step_7_seg_2]], [[corr_step_7_seg_3]]), axis=1)
corr_step_8_seg_1 = numpy.array([[0.57175250, 0.57175250],
                                 [0.57175250, 0.57175250]])
corr_step_8_seg_2 = numpy.array([[0.66126390, 0.66126390],
                                 [0.66126390, 0.66126390]])
corr_step_8_seg_3 = numpy.array([[0.57534300, 0.57534300],
                                 [0.57534300, 0.57534300]])
corr_step_8 = numpy.concatenate(([[corr_step_8_seg_1]], [[corr_step_8_seg_2]], [[corr_step_8_seg_3]]), axis=1)
corr_step_8_full = numpy.array([[[[0.57175250, 0.57175250],
                                  [0.57175250, 0.57175250]],
                                 [[0.66126390, 0.66126390],
                                  [0.66126390, 0.66126390]],
                                 [[0.57534300, 0.57534300],
                                  [0.57534300, 0.57534300]]],
                                [[[0.57171450, 0.57171450],
                                  [0.57171450, 0.57171450]],
                                 [[0.66140145, 0.66140145],
                                  [0.66140145, 0.66140145]],
                                 [[0.57539700, 0.57539700],
                                  [0.57539700, 0.57539700]]],
                                [[[0.57148540, 0.57148540],
                                  [0.57148540, 0.57148540]],
                                 [[0.66140145, 0.66140145],
                                  [0.66140145, 0.66140145]],
                                 [[0.57544700, 0.57544700],
                                  [0.57544700, 0.57544700]]],
                                [[[0.57109510, 0.57109510],
                                  [0.57109510, 0.57109510]],
                                 [[0.66140145, 0.66140145],
                                  [0.66140145, 0.66140145]],
                                 [[0.57527700, 0.57527700],
                                  [0.57527700, 0.57527700]]],
                                [[[0.57081240, 0.57081240],
                                  [0.57081240, 0.57081240]],
                                 [[0.66140145, 0.66140145],
                                  [0.66140145, 0.66140145]],
                                 [[0.57512546, 0.57512546],
                                  [0.57512546, 0.57512546]]],
                                [[[0.57049360, 0.57049360],
                                  [0.57049360, 0.57049360]],
                                 [[0.65734580, 0.65734580],
                                  [0.65734580, 0.65734580]],
                                 [[0.57477814, 0.57477814],
                                  [0.57477814, 0.57477814]]],
                                [[[0.57075800, 0.57075800],
                                  [0.57075800, 0.57075800]],
                                 [[0.65734580, 0.65734580],
                                  [0.65734580, 0.65734580]],
                                 [[0.57481300, 0.57481300],
                                  [0.57481300, 0.57481300]]],
                                [[[0.57070196, 0.57070196],
                                  [0.57070196, 0.57070196]],
                                 [[0.65702490, 0.65702490],
                                  [0.65702490, 0.65702490]],
                                 [[0.57474244, 0.57474244],
                                  [0.57474244, 0.57474244]]]])
corr_step_9 = numpy.array([[0.57175250, 0.57175250, 0.57175250, 0.57175250,
                            0.66126390, 0.66126390, 0.66126390, 0.66126390,
                            0.57534300, 0.57534300, 0.57534300, 0.57534300],
                           [0.57171450, 0.57171450, 0.57171450, 0.57171450,
                            0.66140145, 0.66140145, 0.66140145, 0.66140145,
                            0.57539700, 0.57539700, 0.57539700, 0.57539700],
                           [0.57148540, 0.57148540, 0.57148540, 0.57148540,
                            0.66140145, 0.66140145, 0.66140145, 0.66140145,
                            0.57544700, 0.57544700, 0.57544700, 0.57544700],
                           [0.57109510, 0.57109510, 0.57109510, 0.57109510,
                            0.66140145, 0.66140145, 0.66140145, 0.66140145,
                            0.57527700, 0.57527700, 0.57527700, 0.57527700],
                           [0.57081240, 0.57081240, 0.57081240, 0.57081240,
                            0.66140145, 0.66140145, 0.66140145, 0.66140145,
                            0.57512546, 0.57512546, 0.57512546, 0.57512546],
                           [0.57049360, 0.57049360, 0.57049360, 0.57049360,
                            0.65734580, 0.65734580, 0.65734580, 0.65734580,
                            0.57477814, 0.57477814, 0.57477814, 0.57477814],
                           [0.57075800, 0.57075800, 0.57075800, 0.57075800,
                            0.65734580, 0.65734580, 0.65734580, 0.65734580,
                            0.57481300, 0.57481300, 0.57481300, 0.57481300],
                           [0.57070196, 0.57070196, 0.57070196, 0.57070196,
                            0.65702490, 0.65702490, 0.65702490, 0.65702490,
                            0.57474244, 0.57474244, 0.57474244, 0.57474244]])
corr_10_dummy_kernel_init = numpy.array([[+0.03040000, +0.34330000, -0.28470000, +0.21670000, +0.36270000],
                                         [-0.02870000, -0.03950000, +0.44250000, +0.12830000, +0.30640000],
                                         [-0.09850000, -0.17860000, -0.12120000, +0.21900000, -0.30690000],
                                         [-0.01000000, -0.37920000, -0.36010000, +0.44720000, +0.13090000],
                                         [-0.06130000, +0.20780000, +0.02960000, +0.15240000, +0.27820000],
                                         [+0.11800000, +0.00210000, -0.01460000, -0.38990000, +0.41650000],
                                         [-0.06740000, -0.07300000, -0.47070000, +0.01040000, +0.46370000],
                                         [-0.22460000, +0.24340000, -0.38320000, +0.26930000, +0.26570000],
                                         [+0.04080000, -0.33070000, +0.43010000, -0.29180000, -0.48020000],
                                         [+0.10160000, +0.10740000, -0.03110000, +0.09630000, +0.22350000],
                                         [-0.09190000, +0.09760000, -0.07430000, -0.37820000, -0.15000000],
                                         [+0.04670000, -0.37290000, -0.41850000, -0.21050000, +0.17680000]])
corr_10_dummy_bias_init = numpy.array([[0.71943000],
                                       [0.65004000],
                                       [0.72691000],
                                       [0.37385000],
                                       [0.58158000]])


class ReposHelper(TestCase):
    def test_normalize(self):
        self.assertIsNotNone(normalized)
        # print(normalized)

    def test_corr_step_1_seg_1(self):
        self.assertIsNotNone(corr_step_1_seg_1)
        # print(corr_step_1_seg_1)

    def test_corr_step_1_seg_2(self):
        self.assertIsNotNone(corr_step_1_seg_2)
        # print(corr_step_1_seg_2)

    def test_corr_step_1_seg_3(self):
        self.assertIsNotNone(corr_step_1_seg_3)
        # print(corr_step_1_seg_3)

    def test_corr_step_1(self):
        self.assertIsNotNone(corr_step_1)
        # print(corr_step_1)
